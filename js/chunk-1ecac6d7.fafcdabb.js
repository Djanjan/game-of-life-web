(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ecac6d7"],{8005:function(t,e,i){"use strict";i("b4e8")},b4e8:function(t,e,i){},c08e:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("canvas",{attrs:{id:"field",width:"900",height:"800"},on:{click:t.clickCanvas,dblclick:t.clickCanvas}})},l=[],n=i("5530"),r=i("2f62"),c=null,h=null;function a(t){c=t,h=f(c.length,c[0].length)}function o(){for(var t=0;t<c.length;t++)for(var e=0;e<c[0].length;e++)h[t][e]=u(t,e)}function u(t,e){var i=0;return e>0&&(1==c[t][e-1].life&&i++,t>0&&1==c[t-1][e-1].life&&i++,t<c.length-1&&1==c[t+1][e-1].life&&i++),e<c[0].length-1&&(1==c[t][e+1].life&&i++,t<c.length-1&&1==c[t+1][e+1].life&&i++,t>0&&1==c[t-1][e+1].life&&i++),t<c.length-1&&1==c[t+1][e].life&&i++,t>0&&1==c[t-1][e].life&&i++,i}function d(){o();for(var t=0;t<c.length;t++)for(var e=0;e<c[0].length;e++)0==c[t][e].life&&3==h[t][e]?c[t][e].life=1:1==c[t][e].life&&3!=h[t][e]&&2!=h[t][e]&&(c[t][e].life=0)}function f(t,e){for(var i=new Array,s=0;s<t;s++){i[s]=new Array;for(var l=0;l<e;l++)i[s][l]=0}return i}var m={data:function(){return{data:null,canvas:null,context:null,timer:null,settings:{width:1520,height:670}}},watch:{rectSize:function(){this.canvasAttributeUpdate(),this.init()},timerSpeed:function(){null!=this.timer&&clearInterval(this.timer),this.startTimer()}},computed:Object(n["a"])({},Object(r["c"])("field",{cells:function(t){return t.field},isStart:function(t){return t.field.isStart},rectSize:function(t){return t.field.attribute.rectSize},timerSpeed:function(t){return t.field.attribute.timerSpeed}})),created:function(){window.addEventListener("resize",this.resizeWindowsUpdate)},mounted:function(){this.canvasAttributeUpdate(),this.setInitFunc(this.init),this.setClearFunc(this.clearFieldImport),this.setStartTimerFunc(this.startTimer),this.init()},beforeDestroy:function(){this.stopTimer(),window.removeEventListener("resize",this.resizeWindowsUpdate)},methods:Object(n["a"])(Object(n["a"])({},Object(r["b"])("field",["setInitFunc","setClearFunc","setStartTimerFunc"])),{},{init:function(){this.clearField(),null!=this.timer&&clearInterval(this.timer),this.drawNewField(),a(this.cells.matrix),this.startTimer()},drawNewField:function(){this.cells.matrix=new Array;for(var t=1,e=0;t<this.settings.height;t+=this.cells.attribute.rectSize,e++){this.cells.matrix[e]=new Array;for(var i=1,s=0;i<this.settings.width;i+=this.cells.attribute.rectSize,s++)this.cells.matrix[e][s]={life:0,posX:i,posY:t},this.context.beginPath(),this.context.lineWidth=this.cells.attribute.style.lineWidth,this.context.strokeStyle=this.cells.attribute.style.strokeStyle,this.context.rect(i,t,this.cells.attribute.rectSize,this.cells.attribute.rectSize),this.context.stroke()}},drawCell:function(t,e,i){1==t?(this.context.beginPath(),this.context.lineWidth=this.cells.attribute.style.lineWidth,this.context.strokeStyle=this.cells.attribute.style.strokeStyle,this.context.fillStyle=this.cells.attribute.style.fillStyle,this.context.fillRect(this.cells.matrix[e][i].posX+this.cells.attribute.style.lineWidth,this.cells.matrix[e][i].posY+this.cells.attribute.style.lineWidth,this.cells.attribute.rectSize-this.cells.attribute.style.lineWidth,this.cells.attribute.rectSize-this.cells.attribute.style.lineWidth),this.context.stroke()):this.context.clearRect(this.cells.matrix[e][i].posX+this.cells.attribute.style.lineWidth,this.cells.matrix[e][i].posY+this.cells.attribute.style.lineWidth,this.cells.attribute.rectSize-this.cells.attribute.style.lineWidth,this.cells.attribute.rectSize-this.cells.attribute.style.lineWidth)},startTimer:function(){clearInterval(this.timer),this.timer=setInterval(this.update,this.cells.attribute.timerSpeed)},stopTimer:function(){clearInterval(this.timer)},canvasAttributeUpdate:function(){this.settings.height=window.innerHeight-.1*window.innerHeight,this.settings.width=window.innerWidth-.01*window.innerWidth,this.canvas=document.querySelector("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.setAttribute("height",this.settings.height),this.canvas.setAttribute("width",this.settings.width)},resizeWindowsUpdate:function(){this.canvasAttributeUpdate(),this.init()},clearFieldImport:function(){this.init()},clearField:function(){this.context.clearRect(0,0,this.settings.width,this.settings.height)},clearReactField:function(){for(var t=0;t<this.cells.matrix.length;t++)for(var e=0;e<this.cells.matrix[0].length;e++)this.drawCell(0,t,e)},drawRect:function(){},clickCanvas:function(t){var e=this.canvas.getBoundingClientRect(),i=t.clientX-e.left,s=t.clientY-e.top,l="click"==t.type?"add":"delete";this.clickField(i,s,l)},clickField:function(t,e,i){for(var s=0;s<this.cells.matrix.length;s++)for(var l=0;l<this.cells.matrix[0].length;l++)if(t>=this.cells.matrix[s][l].posX&&t<=this.cells.matrix[s][l].posX+this.cells.attribute.rectSize&&e>=this.cells.matrix[s][l].posY&&e<=this.cells.matrix[s][l].posY+this.cells.attribute.rectSize)return void this.clickSetRect(s,l,i)},clickSetRect:function(t,e,i){return"add"==i?(this.cells.matrix[t][e].life=1,void this.drawCell(1,t,e)):"delete"==i?(this.cells.matrix[t][e].life=0,void this.drawCell(0,t,e)):void 0},update:function(){if(this.isStart){d();for(var t=0;t<this.cells.matrix.length;t++)for(var e=0;e<this.cells.matrix[0].length;e++)1==this.cells.matrix[t][e].life?this.drawCell(1,t,e):this.drawCell(0,t,e)}}})},b=m,v=(i("8005"),i("2877")),w=Object(v["a"])(b,s,l,!1,null,"e10e52b4",null);e["default"]=w.exports}}]);
//# sourceMappingURL=chunk-1ecac6d7.fafcdabb.js.map